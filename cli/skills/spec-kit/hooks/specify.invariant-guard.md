7. **DevKit Invariant Guard** — after the spec is written and validated:

   a. **Load invariants**: Read `.devkit/arch/invariants.md` and `.devkit/product/ux_invariants.md` (if they exist).

   b. **Map feature to invariants**: For each invariant (I1-I8, U1-U6 or whatever IDs exist), determine whether this feature TOUCHES, DEPENDS ON, or is UNRELATED to that invariant.

   c. **Append `## Invariant Coverage` section** to the spec file (before any closing notes):

      ```markdown
      ## Invariant Coverage

      > Auto-generated by DevKit. Maps this spec to project invariants.

      **Technical invariants** (from `.devkit/arch/invariants.md`):
      | ID | Name | Relation | Notes |
      |----|------|----------|-------|
      | I1 | ... | TOUCHES / DEPENDS / — | ... |

      **UX invariants** (from `.devkit/product/ux_invariants.md`):
      | ID | Name | Relation | Notes |
      |----|------|----------|-------|
      | U1 | ... | TOUCHES / DEPENDS / — | ... |
      ```

      Only include rows where Relation is TOUCHES or DEPENDS (skip unrelated).

   d. **Run impact analysis**:
      ```bash
      devkit impact "<feature short name>: touches <list of touched invariant IDs>"
      ```
      - If risk is HIGH or CRITICAL: **WARN** the user before proceeding. Suggest running `devkit rfc` if the feature may need to deviate from an invariant.
      - If risk is LOW or MEDIUM: note it in the report and proceed.

   e. **Run validation**:
      ```bash
      devkit validate
      ```
