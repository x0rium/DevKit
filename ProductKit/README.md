# ProductKit

> Уровень 2. "Что именно строим и для кого?"

---

## Когда использовать

- feasibility подтверждена в ResearchKit
- нужно определить что именно строить
- нужно понять как пользователь будет это использовать
- нужно зафиксировать UX инварианты до архитектуры
- нужно определить роадмап и приоритеты

---

## Ключевая идея

UX инварианты определяются **до** архитектуры. Они ограничивают архитектурные решения так же жёстко как технические требования.

Пример: если U1 = "CLI запускается с максимум 3 обязательными параметрами" зафиксирован здесь — архитектура с 60 параметрами станет блокером в ArchKit, а не открытием после реализации.

---

## Фазы

### Phase 1: User Definition
```
QUESTIONS:
  - Кто конкретно будет это использовать?
  - Какую проблему они решают сейчас без этого инструмента?
  - Что они знают / умеют заранее?
  - В каком контексте используют: вручную, в скрипте, в CI?

FORBIDDEN:
  - думать о технической реализации
  - выбирать стек
```

### Phase 2: UX Invariants
```
Формализуем что система гарантирует пользователю.
Не "как выглядит" а "что обещает".

EXAMPLES:
  U1: новый пользователь достигает результата за N шагов
  U2: без конфига работает разумный default
  U3: ошибка всегда содержит что делать дальше
  U4: операция X занимает не более Y секунд субъективно
```

### Phase 3: Roadmap
```
Фазы разработки с точки зрения продукта.
Что входит в MVP, что в v1, что позже.

BASIS: UX инварианты + assumptions из ResearchKit
CONSTRAINTS: будут дополнены техническими из ArchKit
```

---

## Артефакты

### users.md
```markdown
# Users

## Primary User
PROFILE: кто это
CONTEXT: как и где использует
KNOWLEDGE: что знает заранее
GOAL: чего хочет достичь
HAPPY_PATH: типичный сценарий (80% случаев)

## Edge Cases
...
```

### ux_invariants.md
```markdown
# UX Invariants

## U1: [название]
STATEMENT: что система гарантирует пользователю
RATIONALE: почему это важно
VALIDATION: как проверить что инвариант соблюдён
PRIORITY: must / should / could
STATUS: active / suspended / rejected
```

### roadmap.md
```markdown
# Roadmap

## MVP
GOAL: минимум для первого реального использования
UX_INVARIANTS: [какие инварианты покрывает]
EXCLUDES: [что явно не входит]

## V1
...

## Later
...

## Never (явный anti-scope)
...
```

---

## Переход к ArchKit

**ALLOWED** когда:
- все пользовательские сценарии описаны
- UX инварианты зафиксированы для MVP
- роадмап имеет явный anti-scope
- нет open questions о том кто пользователь

**BLOCKED** когда:
- UX инварианты противоречат друг другу
- happy path не определён

---

## Команды

```
/product-kit init
/product-kit users
/product-kit ux-invariants
/product-kit roadmap
/product-kit status
```
